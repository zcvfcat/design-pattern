# State Pattern

## ROLE

### State

상태에 의존한 동작 API 메소드 모음

### ConcreteState

구체적인 상태에 따른 메소드

### Context

현재 상태를 나타내는 ConcreteState를 가짐

## 사용 이유

### 분할해서 사용 (divide and conquer)

상태가 많을 경우 사용해야할 조건분기문이 늘어남
`시스템의 상태`를 클래스로 표현함으로써 복잡한 프로그램을 분할

### 상태에 의존한 처리

추상 메소드로 선언하고 인터페이스로 정리
구상 메소드를 구현하고 개별 클래스 사용

### 상태 전환은 누가 관리해야 하는가?

`상태 전환을 누가 관리` 해야하는지 주의

### 자기 모순에 빠지지 않는다

`시스템에서 상태를 확실하게 결정함` 으로 시스템이 다양한 상태를 내포하지 않음

### 새로운 상태를 추가하는 것은 간단

- 상태에 따라 분기문으로 처리할 경우, 모든 식 안에 로직을 넣어주어야함
- 상태 API에 메소드 등록 시, 구현한 모든 상태 클래스 변경

### 두 얼굴을 가진 인터페이스 (유의)

구현된 상태 클래스에 따라 사용방법이 달라짐

## 관련 패턴

### Singleton

상태를 나타내는 클래스에는 인스턴스의 상태가 없기 때문에 사용할 수 있음

### Flyweight

ConcreteState역을 여러 Context 역에서 공유할 수 있는 경우가 있음
